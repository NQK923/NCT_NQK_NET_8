<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>

  <!-- Bootstrap CSS -->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet"/>
  <!-- Tailwind CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>
  <style>
    .input-transition {
      transition: width 0.3s ease;
    }

    .w-220 {
      width: 220px;
    }

    .w-70 {
      width: 70px;
    }

    .selected {
      color: rgb(245, 158, 11);
    }
  </style>
</head>

<body class="bg-gray-500">

<div>
  <div class="row pt-2">
    <div class="col-2 bg-gray-500">
      <div class="px-2">
        <img [src]="mangaDetails.cover_img" alt="Cover Image">
        <div
          class="text-yellow-500 text-sm border-2 mt-2 border-yellow-500 rounded-sm p-2 text-center hover:bg-yellow-500 hover:text-gray-500">
          Thêm vào mục yêu thích
        </div>
        <div
          class="text-yellow-500 text-sm border-2 mt-2 border-yellow-500 rounded-sm p-2 flex justify-center hover:bg-yellow-200">
          <img alt="Bell Icon" class="h-6 px-1"
               src="https://imagemanga.blob.core.windows.net/assets/icons8-bell-30.png">
          <p class="text-yellow-500 text-sm hover:text-gray-500">Thông báo</p>
        </div>
        <div (click)="toggleRatingSection()" class="text-yellow-500 text-sm border-2 mt-2 border-yellow-500 rounded-sm p-2 flex justify-center hover:bg-yellow-100 cursor-pointer"
             id="Evaluate">
          <img alt="Star Icon" class="h-6 px-1"
               src="https://imagemanga.blob.core.windows.net/assets/icons8-star-30.png">
          <p class="text-yellow-500 text-sm hover:text-gray-500">Đánh giá: {{ mangaDetails.rating }}/5</p>
        </div>

        <!-- Đánh giá -->
        <div>
          <div #ratingSection
               class="hidden text-sm text-yellow-500  items-center border-2 border-yellow-500 rounded-sm my-1 p-1">
            <div class="flex">
              <p>Đánh giá : <span>{{ selectedRatingValue }}</span> sao </p>

              <div class="flex space-x-1 cursor-pointer">
                                <span (click)="selectRating(star)"
                                      *ngFor="let star of [1, 2, 3, 4, 5]"
                                      [ngClass]="{
                                        'text-yellow-500': selectedRatingValue >= star,
                                        'text-gray-400': selectedRatingValue < star
                                    }">
                                &#9733;
                                </span>
              </div>
            </div>
            <div class="flex justify-center">
              <button (click)="confirmRating()" class="  btn-warning w-full">Xác Nhận</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-10">
      <div class="bg-gradient-to-r from-black to-gray-500 p-3">
        <div class="text-3xl font-bold text-white">{{ mangaDetails.name }}</div>
        <div class="text-gray-500">{{ mangaDetails.author }}</div>
      </div>
      <div>
        <p class="font-bold text-white m-4 text-xl">Tóm tắt</p>
      </div>
      <div class="container-fluid border-t border-gray-400 h-1 p-0"></div>
      <div>
        <p class="p-4 text-white">{{ mangaDetails.describe }}</p>
      </div>
      <div>
        <img alt="Logo Image" class="ml-4" src="https://imagemanga.blob.core.windows.net/assets/logimg.svg">
      </div>
    </div>
  </div>
</div>

<div>
  <div class="row">
    <div class="col-7 p-4">
      <p class="text-2xl text-white font-bold p-1">Danh sách chương</p>
      <div class="container-fluid border-t border-gray-400 h-1 p-0"></div>
      <div class="flex justify-end text-white font-bold p-2 bg-gradient-to-r from-gray-500 to-black w-full">
        Sort
      </div>
      <div (click)="goToChapter(chapter.index, chapter.id_chapter) " *ngFor="let chapter of chapters" class="hover:bg-black w-full"
           tabindex="0">
        <div class="flex justify-between items-center py-4 px-2">
          <div>
            <p class="text-white font-bold text-2xl">Chương: {{ chapter.index }}</p>
            <p class="text-white">{{ chapter.title }}</p>
          </div>
          <div class="ml-auto text-right">
            <p class="text-white">{{ chapter.created_at | date:'HH:mm dd/MM/yyyy' }}</p>
            <div class="flex items-center mt-2 px-1  pt-2">
              <img src="https://imagemanga.blob.core.windows.net/assets/iconeye.png">
              <p class="ml-4 text-white ">{{ chapter.view | number }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-5 p-4">
      <p class="text-2xl text-white font-bold p-1">Thời gian cập nhật</p>
      <div class="container-fluid border-t border-gray-400 h-1 p-0"></div>
      <p class="text-white bg-yellow-500 p-1 w-25 m-2">Hàng tuần</p>
      <p class="text-white text-xl font-bold p-2">Chương mới sẽ ra mắt vào thứ 7 hàng tuần</p>
      <p class="p-2 text-white">Có thể xem 3 chương mới nhất trong tiêu đề này. Xin lưu ý rằng chương mới nhất thứ 3 sẽ
        bị ẩn khi có chương mới được thêm vào.</p>
    </div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>
