<div class=" bg-img">
  <div id="head">
    <div class="row max-w-full bg-black opacity-90">
      <div class="col-8  p-2 flex items-center">
        <div>
          <img alt="Logo" class="ml-4 img cursor-pointer" src="https://mangaimg.blob.core.windows.net/assets/logo4.png">
        </div>
        <ul class="flex mt-3 ">
          <li (click)="goToIndex()"
              class="text-lg font-bold items-center text-gray-100 mx-3 hover:text-yellow-500 cursor-pointer">
            Trang chủ
          </li>
          <li (click)="goToListView()"
              class="text-lg font-bold items-center text-gray-100 mx-3 hover:text-yellow-500 cursor-pointer">
            Danh sách truyện
          </li>
          <li (click)="goToRank()"
              class="text-lg font-bold items-center text-gray-100 mx-3 hover:text-yellow-500 cursor-pointer">Xếp
            hạng
          </li>
          <li (click)="goToHistory()" class="text-lg font-bold items-center text-gray-100 mx-3 hover:text-yellow-500 cursor-pointer"
              id="History">
            Lịch sử đọc
          </li>
          <li (click)="goToFavorite()" class="text-lg font-bold items-center text-gray-100 mx-3 hover:text-yellow-500 cursor-pointer"
              id="Favorite">
            Yêu thích
          </li>
          <li (click)="goToLogin()" class="text-lg font-bold items-center text-gray-100 mx-3 hover:text-yellow-500 cursor-pointer"
              id="Login">Đăng
            nhập
          </li>
          <li (click)="logOut()" class="hidden text-lg font-bold items-center text-gray-100 mx-3 hover:text-yellow-500 cursor-pointer"
              id="Logout">Đăng
            xuất
          </li>
        </ul>
      </div>
      <div class="col-4 bg-opacity-80 p-2 flex items-center justify-end">
        <input
          (keyup.enter)="onSearch()"
          [(ngModel)]="searchQuery"
          class="text-lg px-2 rounded-lg m-2 bg-black bg-opacity-80 text-white hover:text-yellow-500 transition-all duration-300 w-80 input-transition"
          onblur="this.classList.remove('w-full')"
          onfocus="this.classList.add('w-full')"
          placeholder="Tìm kiếm"
          type="text">
        <div (click)="goToclientmanager()" class="cursor-pointer" id="clientManager">
          <div class="h-14 w-14 bg-white rounded-full overflow-hidden border">
            <img alt="Avatar" class="h-14 w-14 p-0 object-cover flex" src="{{url}}">
          </div>
          <div class="text-white text-sm text-center">{{ name }}</div>
        </div>
        <div (click)="goToNotification()" class="flex px-2 cursor-pointer" id="iconNotification">
          <img alt="Bell Icon" class="h-14" src="https://mangaimg.blob.core.windows.net/assets/icons8-bell-100.png">
          <h1 class="h-1 w-1 text-sm rounded-full text-red-500 -ml-4 font-bold">+{{ numberNotification }}</h1>
        </div>
      </div>
    </div>
  </div>
</div>
<!--thong bao-->
<div [class.hidden]="isHidden" id="Notification">
  <div class="absolute top-24 left-0 right-0 z-20 flex justify-end p-100 mr-2">
    <div class="bg-white w-500 rounded-xl mt-2 pb-8">
      <div class="rounded-t-lg flex justify-between bg-gradient-to-r from-blue-800 to-gray-500 px-4">
        <p class="text-2xl text-white font-bold m-1">Thông báo</p>
        <p (click)="goUotNotification()" class="p-2 bg-blue-500 font-bold text-white">Thoát</p>
      </div>
      <div class="text-lg font-bold text-center w-full border-b border-gray-500 p-1">Danh sách thông báo</div>
      <div class="flex justify-between p-1 text-blue-500">
        <div class="font-bold mx-2 text-black">Mới nhất</div>
      </div>
      <div (click)="deleteAllNotification() "
           class="flex underline justify-center p-1 text-blue-500 hover:text-blue-500">
        Xóa tất cả thông báo
      </div>
      <!--      no read-->
      <div *ngFor="let ListCombinedDatas of ListCombinedDatas" class="p-2">
        <div class="flex p-2 w-full rounded-l-xl hover:bg-gray-300">

          <div class="h-14 w-14 bg-white rounded-full overflow-hidden border">
            <img alt="Avatar" class="h-14 w-14 p-0 object-cover flex"
                 src="{{ListCombinedDatas.InfoAccount?.cover_img}}">
          </div>

          <div class=" ml-2">
            <div class="font-bold  text-sm"> {{ ListCombinedDatas.InfoAccount?.name }}</div>
            <div class="font-bold text-blue-500 text-sm">{{ ListCombinedDatas.Mangainfo?.name }}
              {{ ListCombinedDatas.Notification?.type_Noti }}
            </div>
            <div class="text-sm">{{ ListCombinedDatas.Notification?.content }}</div>
            <div class="text-sm text-blue-500">{{ ListCombinedDatas.Notification?.time | date:'HH:mm dd/MM/yyyy' }}
            </div>
          </div>
        </div>
      </div>
      <!--      is read-->
      <div class="font-bold mx-3 text-black">Đã đọc</div>
      <div *ngFor="let ListCombinedDatasIsread of ListCombinedDatasIsread" class="p-2">
        <div class="flex p-2 w-full rounded-l-xl hover:bg-gray-300 opacity-50">
          <div class="h-14 w-14 bg-white rounded-full overflow-hidden border">
            <img alt="Avatar" class="h-14 w-14 p-0 object-cover flex"
                 src="{{ListCombinedDatasIsread.InfoAccount?.cover_img}}">
          </div>
          <div class=" ml-2">
            <div class="font-bold  text-sm"> {{ ListCombinedDatasIsread.InfoAccount?.name }}</div>
            <div class="font-bold text-blue-500 text-sm">{{ ListCombinedDatasIsread.Mangainfo?.name }}
              {{ ListCombinedDatasIsread.Notification?.type_Noti }}
            </div>
            <div class="text-sm">{{ ListCombinedDatasIsread.Notification?.content }}</div>
            <div
              class="text-sm text-blue-500">{{ ListCombinedDatasIsread.Notification?.time | date:'HH:mm dd/MM/yyyy' }}
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
